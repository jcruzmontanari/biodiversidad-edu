<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Caparaz√≥n de Caracol - Biodiversidad</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        background: linear-gradient(135deg, #d4a373 0%, #f5e6d3 100%);
        min-height: 100vh;
        padding: 20px;
      }

      .container {
        max-width: 800px;
        margin: 0 auto;
        background: white;
        border-radius: 20px;
        overflow: hidden;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        animation: fadeIn 0.6s ease-out;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(30px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .header {
        background: linear-gradient(135deg, #b8956a 0%, #d4a373 100%);
        padding: 40px 30px;
        color: white;
        text-align: center;
      }

      .header h1 {
        font-size: 2.5em;
        margin-bottom: 10px;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
      }

      .scientific-name {
        font-style: italic;
        font-size: 1.2em;
        opacity: 0.95;
      }

      .content {
        padding: 30px;
      }

      .image-container {
        text-align: center;
        margin: 20px 0;
      }

      .image-container img {
        max-width: 100%;
        border-radius: 15px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
      }

      .info-section {
        margin: 30px 0;
      }

      .info-section h2 {
        color: #b8956a;
        margin-bottom: 15px;
        font-size: 1.8em;
        border-left: 4px solid #d4a373;
        padding-left: 15px;
      }

      .info-section p {
        line-height: 1.8;
        color: #333;
        font-size: 1.1em;
        margin-bottom: 15px;
      }

      .facts-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
        gap: 20px;
        margin: 20px 0;
      }

      .fact-card {
        background: linear-gradient(135deg, #b8956a 0%, #d4a373 100%);
        color: white;
        padding: 20px;
        border-radius: 15px;
        text-align: center;
        transform: translateY(0);
        transition: transform 0.3s ease;
      }

      .fact-card:hover {
        transform: translateY(-5px);
      }

      .fact-card .label {
        font-size: 0.9em;
        opacity: 0.95;
        margin-bottom: 5px;
      }

      .fact-card .value {
        font-size: 1.4em;
        font-weight: bold;
      }

      .curiosity-box {
        background: #faf7f3;
        border-left: 4px solid #b8956a;
        padding: 20px;
        border-radius: 10px;
        margin: 20px 0;
      }

      .curiosity-box h3 {
        color: #b8956a;
        margin-bottom: 10px;
      }

      .quiz-section {
        background: #faf7f3;
        padding: 30px;
        border-radius: 15px;
        margin-top: 30px;
      }

      .quiz-section h2 {
        color: #b8956a;
        margin-bottom: 20px;
        text-align: center;
      }

      .question {
        background: white;
        padding: 20px;
        border-radius: 10px;
        margin-bottom: 20px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      }

      .question h3 {
        color: #333;
        margin-bottom: 15px;
      }

      .options {
        display: flex;
        flex-direction: column;
        gap: 10px;
      }

      .option {
        padding: 15px;
        background: white;
        border: 2px solid #e8dfd3;
        border-radius: 8px;
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .option:hover {
        border-color: #b8956a;
        background: #faf7f3;
      }

      .option.correct {
        background: #4caf50;
        color: white;
        border-color: #4caf50;
        animation: pulse 0.5s;
      }

      .option.incorrect {
        background: #f44336;
        color: white;
        border-color: #f44336;
        animation: shake 0.5s;
      }

      @keyframes pulse {
        0%,
        100% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.05);
        }
      }

      @keyframes shake {
        0%,
        100% {
          transform: translateX(0);
        }
        25% {
          transform: translateX(-10px);
        }
        75% {
          transform: translateX(10px);
        }
      }

      .game-instructions {
        background: white;
        padding: 15px;
        border-radius: 10px;
        margin-bottom: 20px;
        text-align: center;
        color: #666;
      }

      .spiral-game {
        margin-top: 30px;
      }

      .spiral-container {
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 400px;
        background: white;
        border-radius: 15px;
        padding: 30px;
        margin: 20px 0;
        position: relative;
      }

      .spiral-path {
        position: relative;
        width: 300px;
        height: 300px;
      }

      .spiral-segment {
        position: absolute;
        width: 60px;
        height: 60px;
        border-radius: 50%;
        background: linear-gradient(135deg, #b8956a 0%, #d4a373 100%);
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: all 0.3s ease;
        font-size: 2em;
        color: white;
        font-weight: bold;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
      }

      .spiral-segment:hover {
        transform: scale(1.1);
        box-shadow: 0 6px 15px rgba(0, 0, 0, 0.3);
      }

      .spiral-segment.clicked {
        background: #4caf50;
        animation: bounce 0.5s;
      }

      @keyframes bounce {
        0%,
        100% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.2);
        }
      }

      .matching-game {
        margin-top: 30px;
      }

      .matching-pairs {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 20px;
      }

      .match-column h4 {
        text-align: center;
        color: #b8956a;
        margin-bottom: 15px;
      }

      .match-item {
        padding: 15px;
        background: white;
        border: 2px solid #e8dfd3;
        border-radius: 8px;
        margin-bottom: 10px;
        cursor: pointer;
        transition: all 0.3s ease;
        text-align: center;
      }

      .match-item:hover {
        border-color: #b8956a;
        transform: translateX(5px);
      }

      .match-item.selected {
        background: #b8956a;
        color: white;
        border-color: #b8956a;
      }

      .match-item.matched {
        background: #4caf50;
        color: white;
        border-color: #4caf50;
        pointer-events: none;
      }

      .score {
        text-align: center;
        font-size: 1.5em;
        color: #b8956a;
        margin-top: 20px;
        font-weight: bold;
      }

      .reset-btn {
        display: block;
        margin: 20px auto;
        padding: 15px 40px;
        background: linear-gradient(135deg, #b8956a 0%, #d4a373 100%);
        color: white;
        border: none;
        border-radius: 25px;
        font-size: 1.1em;
        cursor: pointer;
        transition: transform 0.3s ease;
        box-shadow: 0 4px 15px rgba(184, 149, 106, 0.4);
      }

      .reset-btn:hover {
        transform: scale(1.05);
      }

      @media (max-width: 768px) {
        body {
          padding: 0;
        }

        .container {
          border-radius: 0;
        }

        .content {
          padding: 15px;
        }

        .header h1 {
          font-size: 2em;
        }

        .header {
          padding: 30px 20px;
        }

        .reset-btn {
          padding: 12px 30px;
          font-size: 1em;
        }

        .facts-grid {
          grid-template-columns: repeat(2, 1fr);
          gap: 15px;
        }

        .spiral-path {
          width: 250px;
          height: 250px;
        }

        .spiral-segment {
          width: 50px;
          height: 50px;
          font-size: 1.5em;
        }

        .matching-pairs {
          grid-template-columns: 1fr;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="header">
        <h1>üêå Caparaz√≥n de Caracol</h1>
        <p class="scientific-name">Gastropoda - Concha espiral</p>
      </div>

      <div class="content">
        <div class="quiz-section spiral-game" style="margin-top: 0">
          <h2>üåÄ Sigue la Espiral del Caracol</h2>
          <div class="game-instructions">
            ¬°Haz clic en los n√∫meros en orden! Sigue el camino espiral del
            caracol desde el 1 hasta el 10.
          </div>

          <div class="spiral-container">
            <div class="spiral-path">
              <!-- Center -->
              <div
                class="spiral-segment"
                data-num="10"
                style="top: 50%; left: 50%; transform: translate(-50%, -50%)"
                onclick="clickSpiral(10, this)"
              >
                10
              </div>

              <!-- First ring -->
              <div
                class="spiral-segment"
                data-num="9"
                style="top: 35%; left: 50%; transform: translate(-50%, -50%)"
                onclick="clickSpiral(9, this)"
              >
                9
              </div>
              <div
                class="spiral-segment"
                data-num="8"
                style="top: 50%; left: 65%; transform: translate(-50%, -50%)"
                onclick="clickSpiral(8, this)"
              >
                8
              </div>

              <!-- Second ring -->
              <div
                class="spiral-segment"
                data-num="7"
                style="top: 65%; left: 50%; transform: translate(-50%, -50%)"
                onclick="clickSpiral(7, this)"
              >
                7
              </div>
              <div
                class="spiral-segment"
                data-num="6"
                style="top: 50%; left: 35%; transform: translate(-50%, -50%)"
                onclick="clickSpiral(6, this)"
              >
                6
              </div>

              <!-- Third ring -->
              <div
                class="spiral-segment"
                data-num="5"
                style="top: 20%; left: 50%; transform: translate(-50%, -50%)"
                onclick="clickSpiral(5, this)"
              >
                5
              </div>
              <div
                class="spiral-segment"
                data-num="4"
                style="top: 35%; left: 80%; transform: translate(-50%, -50%)"
                onclick="clickSpiral(4, this)"
              >
                4
              </div>
              <div
                class="spiral-segment"
                data-num="3"
                style="top: 65%; left: 80%; transform: translate(-50%, -50%)"
                onclick="clickSpiral(3, this)"
              >
                3
              </div>

              <!-- Outer ring -->
              <div
                class="spiral-segment"
                data-num="2"
                style="top: 80%; left: 50%; transform: translate(-50%, -50%)"
                onclick="clickSpiral(2, this)"
              >
                2
              </div>
              <div
                class="spiral-segment"
                data-num="1"
                style="top: 50%; left: 20%; transform: translate(-50%, -50%)"
                onclick="clickSpiral(1, this)"
              >
                1
              </div>
            </div>
          </div>

          <div class="score" id="spiralScore">Siguiente n√∫mero: 1</div>
          <button
            class="reset-btn"
            onclick="resetSpiral()"
            style="display: none"
            id="spiralResetBtn"
          >
            Jugar de nuevo
          </button>
        </div>

        <div class="image-container">
          <img
            src="https://images.unsplash.com/photo-1567428485548-434e90b7e7e1?w=800"
            alt="Caparaz√≥n de Caracol"
          />
        </div>

        <div class="info-section">
          <h2>Sobre el Caparaz√≥n</h2>
          <p>
            El caparaz√≥n del caracol es una estructura protectora hecha de
            carbonato de calcio que el caracol secreta desde su nacimiento. Esta
            concha espiral crece junto con el animal durante toda su vida,
            agregando material en el borde de la abertura. El patr√≥n en espiral
            sigue la secuencia matem√°tica de Fibonacci.
          </p>
          <p>
            El caparaz√≥n no solo protege al caracol de depredadores y del clima,
            sino que tambi√©n previene la deshidrataci√≥n. Cada especie de caracol
            tiene un patr√≥n √∫nico de colores y texturas en su caparaz√≥n, que
            puede variar desde tonos uniformes hasta complejos dise√±os de rayas
            y manchas.
          </p>
        </div>

        <div class="facts-grid">
          <div class="fact-card">
            <div class="label">Material principal</div>
            <div class="value">CaCO‚ÇÉ</div>
          </div>
          <div class="fact-card">
            <div class="label">Patr√≥n de crecimiento</div>
            <div class="value">Espiral</div>
          </div>
          <div class="fact-card">
            <div class="label">Grosor</div>
            <div class="value">0.5-5 mm</div>
          </div>
          <div class="fact-card">
            <div class="label">Dureza Mohs</div>
            <div class="value">3-4</div>
          </div>
        </div>

        <div class="curiosity-box">
          <h3>üí° ¬øSab√≠as que...?</h3>
          <p>
            La espiral del caparaz√≥n del caracol sigue la proporci√≥n √°urea y la
            secuencia de Fibonacci, la misma que aparece en galaxias, girasoles
            y huracanes. La mayor√≠a de los caracoles tienen espirales que giran
            hacia la derecha (dextr√≥giras), pero algunos raros caracoles tienen
            espirales hacia la izquierda (lev√≥giras). Si un caracol pierde parte
            de su caparaz√≥n puede regenerarlo, aunque nunca quedar√° exactamente
            igual.
          </p>
        </div>

        <div class="info-section">
          <h2>Importancia en la Biodiversidad</h2>
          <p>
            Los caparazones vac√≠os de caracoles son reciclados por la naturaleza
            de formas fascinantes. Cangrejos ermita√±os los usan como hogar
            m√≥vil. Insectos como abejas solitarias los convierten en nidos. Al
            descomponerse, devuelven calcio al suelo, un nutriente esencial para
            muchas plantas.
          </p>
          <p>
            Los caracoles son importantes indicadores de la salud del
            ecosistema. Como necesitan calcio para sus caparazones, son muy
            sensibles a la acidificaci√≥n del suelo. Su presencia indica que el
            ambiente tiene los minerales necesarios y est√° en buen estado.
            Adem√°s, los caracoles son fundamentales en la cadena alimenticia,
            siendo alimento para aves, mam√≠feros y otros invertebrados.
          </p>
        </div>

        <div class="quiz-section">
          <h2>üéÆ ¬°Demuestra lo que aprendiste!</h2>

          <div class="question" id="q1">
            <h3>
              1. ¬øDe qu√© est√° hecho principalmente el caparaz√≥n del caracol?
            </h3>
            <div class="options">
              <div class="option" onclick="checkAnswer(1, 0, true)">
                Carbonato de calcio
              </div>
              <div class="option" onclick="checkAnswer(1, 1, false)">
                Queratina
              </div>
              <div class="option" onclick="checkAnswer(1, 2, false)">
                S√≠lice
              </div>
            </div>
          </div>

          <div class="question" id="q2">
            <h3>2. ¬øQu√© patr√≥n matem√°tico sigue la espiral del caparaz√≥n?</h3>
            <div class="options">
              <div class="option" onclick="checkAnswer(2, 0, false)">
                N√∫meros primos
              </div>
              <div class="option" onclick="checkAnswer(2, 1, true)">
                Secuencia de Fibonacci
              </div>
              <div class="option" onclick="checkAnswer(2, 2, false)">
                N√∫meros perfectos
              </div>
            </div>
          </div>

          <div class="question" id="q3">
            <h3>3. ¬øQu√© animales reutilizan los caparazones vac√≠os?</h3>
            <div class="options">
              <div class="option" onclick="checkAnswer(3, 0, false)">
                Solo peces
              </div>
              <div class="option" onclick="checkAnswer(3, 1, true)">
                Cangrejos ermita√±os y abejas solitarias
              </div>
              <div class="option" onclick="checkAnswer(3, 2, false)">
                Ning√∫n animal
              </div>
            </div>
          </div>

          <div class="score" id="quizScore"></div>
          <button
            class="reset-btn"
            onclick="resetQuiz()"
            style="display: none"
            id="quizResetBtn"
          >
            Intentar de nuevo
          </button>
        </div>

        <div class="quiz-section matching-game">
          <h2>üéØ Juego de Asociaci√≥n: Caracoles del Mundo</h2>
          <div class="game-instructions">
            Conecta cada tipo de caracol con su caracter√≠stica. ¬°Haz clic en uno
            de cada columna!
          </div>

          <div class="matching-pairs">
            <div class="match-column">
              <h4>Tipo de Caracol</h4>
              <div
                class="match-item"
                data-id="garden"
                onclick="selectMatch('left', 'garden', this)"
              >
                üêå Caracol de jard√≠n
              </div>
              <div
                class="match-item"
                data-id="sea"
                onclick="selectMatch('left', 'sea', this)"
              >
                üåä Caracol marino
              </div>
              <div
                class="match-item"
                data-id="giant"
                onclick="selectMatch('left', 'giant', this)"
              >
                ü¶ï Caracol gigante africano
              </div>
              <div
                class="match-item"
                data-id="cone"
                onclick="selectMatch('left', 'cone', this)"
              >
                ‚ö†Ô∏è Caracol cono
              </div>
            </div>

            <div class="match-column">
              <h4>Caracter√≠stica</h4>
              <div
                class="match-item"
                data-id="sea"
                onclick="selectMatch('right', 'sea', this)"
              >
                Produce hermosas perlas naturales
              </div>
              <div
                class="match-item"
                data-id="cone"
                onclick="selectMatch('right', 'cone', this)"
              >
                Venenoso, puede ser mortal
              </div>
              <div
                class="match-item"
                data-id="garden"
                onclick="selectMatch('right', 'garden', this)"
              >
                Com√∫n en huertas y jardines
              </div>
              <div
                class="match-item"
                data-id="giant"
                onclick="selectMatch('right', 'giant', this)"
              >
                Puede medir hasta 20 cm de largo
              </div>
            </div>
          </div>

          <div class="score" id="matchScore"></div>
          <button
            class="reset-btn"
            onclick="resetMatching()"
            style="display: none"
            id="matchResetBtn"
          >
            Jugar de nuevo
          </button>
        </div>
      </div>
    </div>

    <script>
      // Quiz variables
      let quizScore = 0;
      let quizAnswered = 0;
      const totalQuestions = 3;

      function checkAnswer(questionNum, optionIndex, isCorrect) {
        const question = document.getElementById('q' + questionNum);
        const options = question.querySelectorAll('.option');

        if (
          options[optionIndex].classList.contains('correct') ||
          options[optionIndex].classList.contains('incorrect')
        ) {
          return;
        }

        options.forEach((opt) => {
          opt.style.pointerEvents = 'none';
        });

        if (isCorrect) {
          options[optionIndex].classList.add('correct');
          quizScore++;
        } else {
          options[optionIndex].classList.add('incorrect');
          options.forEach((opt) => {
            if (opt.onclick.toString().includes('true')) {
              opt.classList.add('correct');
            }
          });
        }

        quizAnswered++;
        updateQuizScore();
      }

      function updateQuizScore() {
        const scoreDiv = document.getElementById('quizScore');
        const resetBtn = document.getElementById('quizResetBtn');

        if (quizAnswered === totalQuestions) {
          const percentage = (quizScore / totalQuestions) * 100;
          let message = '';

          if (percentage === 100) {
            message = 'üéâ ¬°Perfecto! ¬°Eres un experto en caracoles!';
          } else if (percentage >= 66) {
            message = 'üëè ¬°Muy bien! Conoces mucho sobre los caracoles.';
          } else {
            message = 'üêå ¬°Sigue aprendiendo! Los caracoles son fascinantes.';
          }

          scoreDiv.innerHTML = `Puntuaci√≥n: ${quizScore}/${totalQuestions}<br>${message}`;
          resetBtn.style.display = 'block';
        }
      }

      function resetQuiz() {
        quizScore = 0;
        quizAnswered = 0;

        for (let i = 1; i <= totalQuestions; i++) {
          const question = document.getElementById('q' + i);
          const options = question.querySelectorAll('.option');
          options.forEach((opt) => {
            opt.classList.remove('correct', 'incorrect');
            opt.style.pointerEvents = 'auto';
          });
        }

        document.getElementById('quizScore').innerHTML = '';
        document.getElementById('quizResetBtn').style.display = 'none';
      }

      // Spiral game variables
      let currentNumber = 1;
      const totalNumbers = 10;

      function clickSpiral(num, element) {
        if (num === currentNumber && !element.classList.contains('clicked')) {
          element.classList.add('clicked');
          currentNumber++;
          updateSpiralScore();
        }
      }

      function updateSpiralScore() {
        const scoreDiv = document.getElementById('spiralScore');
        const resetBtn = document.getElementById('spiralResetBtn');

        if (currentNumber <= totalNumbers) {
          scoreDiv.textContent = `Siguiente n√∫mero: ${currentNumber}`;
        } else {
          scoreDiv.innerHTML = 'üéä ¬°Excelente! ¬°Completaste la espiral!';
          resetBtn.style.display = 'block';
        }
      }

      function resetSpiral() {
        currentNumber = 1;

        const segments = document.querySelectorAll('.spiral-segment');
        segments.forEach((seg) => {
          seg.classList.remove('clicked');
        });

        document.getElementById('spiralScore').textContent =
          'Siguiente n√∫mero: 1';
        document.getElementById('spiralResetBtn').style.display = 'none';
      }

      // Matching game variables
      let selectedLeft = null;
      let selectedRight = null;
      let matchedPairs = 0;
      const totalPairs = 4;

      function selectMatch(side, id, element) {
        if (element.classList.contains('matched')) return;

        if (side === 'left') {
          if (selectedLeft) {
            selectedLeft.classList.remove('selected');
          }
          selectedLeft = element;
          element.classList.add('selected');
        } else {
          if (selectedRight) {
            selectedRight.classList.remove('selected');
          }
          selectedRight = element;
          element.classList.add('selected');
        }

        if (selectedLeft && selectedRight) {
          checkMatch();
        }
      }

      function checkMatch() {
        const leftId = selectedLeft.dataset.id;
        const rightId = selectedRight.dataset.id;

        if (leftId === rightId) {
          selectedLeft.classList.add('matched');
          selectedRight.classList.add('matched');
          selectedLeft.classList.remove('selected');
          selectedRight.classList.remove('selected');
          matchedPairs++;

          updateMatchScore();
        }

        selectedLeft = null;
        selectedRight = null;
      }

      function updateMatchScore() {
        const scoreDiv = document.getElementById('matchScore');
        const resetBtn = document.getElementById('matchResetBtn');

        if (matchedPairs === totalPairs) {
          scoreDiv.innerHTML =
            'üéä ¬°Excelente! ¬°Conectaste todas las parejas correctamente!';
          resetBtn.style.display = 'block';
        } else {
          scoreDiv.innerHTML = `Parejas conectadas: ${matchedPairs}/${totalPairs}`;
        }
      }

      function resetMatching() {
        matchedPairs = 0;
        selectedLeft = null;
        selectedRight = null;

        const allItems = document.querySelectorAll('.match-item');
        allItems.forEach((item) => {
          item.classList.remove('matched', 'selected');
        });

        document.getElementById('matchScore').innerHTML = '';
        document.getElementById('matchResetBtn').style.display = 'none';
      }
    </script>
  </body>
</html>
